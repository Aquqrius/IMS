# 模块管理
模块管理功能由`module_manager`类提供。

module在访问数据服务器时，请求会持有一个`module_manager`对象以完成模块相关操作。

## 模块注册
模块请求`/api/register`接口完成模块注册。请求具体参数参考api文档。

请求完成后模块status处于未审核状态,管理员审核后变更为运行状态
> 当前优先完成最简单的可用的系统雏形。模块注册的握手认证将在后续版本中更新，届时注册方式将会有较大调整。认证逻辑会借鉴微信开发者认证。

### 关键参数说明
- name: 模块名
- description: 模块描述
- user_role: 面向用户角色
- pubkey: 模块公钥, 用于安全验证
- auth_email: 作者email, 模块运行故障和bug反馈将推送给作者
- server_entry: 入口url, 用户通过该url访问模块页面

### 注册业务逻辑
- 校验模块是否已经存在
- 校验公钥合法性
- 写入模块信息
- 状态返回

## 模块挂载
系统将提供两种模块挂载方式.
### 服务托管
模块按照系统给出的规范组织文件结构, 开发完成后将服务托管于系统服务器中.
> 实现方案还在研究中, 将在后续版本得到完整支持
### 使用第三方服务器
开发者将服务直接运行与自己的服务器上, 系统会自动对相关请求进行重定向
> 在早期的版本中将持续使用这种挂载方式

## 模块私有表
模块可以在数据库中注册私有表, 该表需要设置相关权限, 拥有权限的其他模块可以访问到该表以获取该模块数据. 设置私有表的目的是与其他模块
实现数据共享.

由于不同模块均以Web Server方式暴露, 模块理论上可以设置本地数据库存放数据. 对于不需要共享的数据, 推荐存放于本地数据库以便于更快得响应

### 私有表注册
模块请求`/api/register_table`接口完成模块私有表注册, 具体参数参考api文档

模块按照要求注册成功后, 模块可以立即对该表进行读写, 但在审核完成前, 该表对其他模块是不可见的






